<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jobad="http://omdoc.org/presentation">
<head>
  <meta charset="UTF-8" />
  <!-- <link rel="stylesheet" type="text/css" href="/css/omdoc/omdoc-default.css"/> --> 
<title>MMT Web Server</title>

<!-- START -->
<!-- <script src="jquery-1.11.2.min.js"></script> -->
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script> 

<!-- END  -->

 
 
  <link rel="stylesheet" type="text/css" href="/css/mmt.css"/>
  <link rel="stylesheet" type="text/css" href="/css/browser.css"/>
  <link rel="stylesheet" type="text/css" href="/css/JOBAD.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery/jquery-ui.css"/>
  <!-- <link rel="stylesheet" type="text/css" href="/css/jquery/ui.base.css"/> -->
  <link rel="shortcut icon" href="/mmt2.png" />
  <!-- <script type="text/javascript" src="/script/jquery/jquery.js"></script> -->
  
  <!-- <script type="text/javascript" src="/script/jquery/jquery.xmlns.js"/> -->

  <script src="script/codemirror2/lib/codemirror.js"></script>
  <link rel="stylesheet" href="script/codemirror2/lib/codemirror.css"/>
  <script src="script/codemirror2/mode/lf/lf.js"></script>

  <script type="text/javascript" src="/script/jquery/jquery-ui.js"></script>
  <script type="text/javascript" src="/script/tree/jquery.hotkeys.js"></script>
  <script type="text/javascript" src="/script/tree/jquery.jstree.js"></script>
  <!--<script type="text/javascript" src="/script/SVGPan/SVGPan.js"></script>-->

  <!-- JOBAD Deps -->
  <script type="text/javascript" src="/script/jobad/deps/underscore-min.js"></script>
  <!-- JOBAD -->
  <script type="text/javascript" src="/script/jobad/JOBAD.js"></script>
  <!-- MMT API -->
  <!-- Core JS API for MMT interaction -->
  <script type="text/javascript" src="/script/mmt/mmt-js-api.js"></script>
  <!-- JOBAD Services -->
  <script type="text/javascript" src="/script/jobad/modules/navigation.js"></script>
  <script type="text/javascript" src="/script/jobad/modules/hovering.js"></script>
  <script type="text/javascript" src="/script/jobad/modules/interactive-viewing.js"></script>
   
    <!-- JOBAD Init -->
     
   
  <script type="text/javascript">
      var JOBAD1;
      $(function(){
         JOBAD1 = new JOBAD($("#main,#inputviewterm,#inputviewtype,#results,#breadcrumbs,#sidebar"));
         JOBAD1.modules.load("kwarc.mmt.navigation", []);
         JOBAD1.modules.load("kwarc.mmt.hovering", []);
         JOBAD1.modules.load("kwarc.mmt.intvw", []);
         JOBAD1.Setup();
      })		
  </script>
  
  <script type="text/javascript">
    $(function () {
       $("#pathtree").jstree({
           "core" : {"animation": 0},
           "xml_data" : {
              "ajax" : {
                 "url" : "/:tree",
                 "data" : function(node) {return (node == -1) ? ":root" : node.attr("id");}
              },
              "xsl" : "nest"
           },
           "themes" : {"theme" : "classic", "icons" : false},
           "plugins" : ["xml_data", "themes", "ui", "hotkeys"]
       });
   });
    
   $(function(){
      var inpbox = $('#inputbox');
      var ana = $('#inputanalyze')[0];
      var simp = $('#inputsimplify')[0];
      function simpPres(e) {
         var eS = simp.checked ? qmt.simplify(e) : e;
         return qmt.present(eS);
      }
      $('#inputbox,#inputanalyze,#inputsimplify').on('change keyup paste', function(){
         var q = qmt.parse(qmt.literalString(inpbox.val()));
         if (ana.checked) {
            var qA = qmt.analyze(q);
            q = qmt.let(qA, qmt.tuple(simpPres(qmt.bound(1)) + simpPres(qmt.bound(2))));
         } else {
            q = simpPres(q);
         }
		   qmt.exec(q,
		      function(resultNode){
		         var result = $(resultNode.firstChild).children();
		         var inpviewterm = $('#inputviewterm')[0];
		         var inpviewtype = $('#inputviewtype')[0];
		         var tm = result[0].firstChild
		         var tp = ana.checked ? result[1].firstChild : window.document.createElement('div');
		         inpviewterm.replaceChild(tm, inpviewterm.firstChild);
		         inpviewtype.replaceChild(tp, inpviewtype.firstChild);
		      }
		   );
		})
   });
   
   $(function(){$('#latin-dialog').dialog({ autoOpen: false})});
  </script>
  
  <script type="text/javascript">
     function toggleClick(elem,label){
        var cls = label != null ? label : 'toggleTarget'
        $(elem).parent().closest('div').find('.' + cls).toggle()
     };
  </script>
  
  
  
  <script type="text/javascript">
      function search(){
         var base   = $('#base').val();
         var module = $('#module').val();
         var name   = $('#name').val();
         var theory = $('#theory').val();
         var pattern= $('#pattern').val();

         var type   = $('#type').is(':checked');
         var definition= $('#definition').is(':checked');
		   $.ajax({'url': '/:search',
				     'dataType': 'xml',
				     'data': {base: base, module: module, name: name,
				               theory: theory, pattern: pattern, type: type, definition: definition},
				     'success': function(data){
				        $('#results').children().replaceWith(data.firstChild);
				     }
			       });
      }
      function resultClick(p){
         navigation.navigate(p);
      }
   </script>
   
    <script type="text/javascript">
    $(function(){
    	 $("#showSearch").on('click', function() {
    		 
    		      $("#searchrow").removeAttr("style");
    			  $("#searchrow").show();

    		});
    });
  

   </script>
   
   <script type="text/javascript">
    $(function(){
    	 $("#showParse").on('click', function() {
    		 
    		      $("#parserow").removeAttr("style");
    			  $("#parserow").show();

    		});
    });
  

   </script>
   
   <script type="text/javascript">
    $(function(){
    	 $("#remove-search").on('click', function() {
    		
    			$('#searchrow').attr('style', 'visibility: hidden');

    		});
    });
  

   </script>
   
   <script type="text/javascript">
    $(function(){
    	 $("#remove-parse").on('click', function() {
    		
    			$('#parserow').attr('style', 'visibility: hidden');

    		});
    });
  

   </script>
  
  <script type="text/javascript">
    $(function(){
    	 $("#start").on('click', function() {
    		 
    		 	 var s = $(first).attr('style');
    		 	 var res = s.substring(0, 43); 
    		 	 
    		 	  $("#first").attr('style', res);
    		 	  
    			  $("#first").show();

    		});
    });
  

   </script>
   
   
   <script type="text/javascript">
    $(function(){
    	 $("#remove-start").on('click', function() {
    		
    			$("#first").attr('style', 'visibility: hidden');

    		});
    });
  

   </script>
   
 body {
    margin-top: 125px;
}

.navbar-fixed-top .nav {
    padding: 15px 0;
}

</head>

<body>
	<div id="wrapper" >
	
	<!-- top bar -->
 		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    			<div class="container">
    				<div class="navbar-header">
            			<button type="button" class="navbar-toggle" data-toggle="collapse"
                   			 data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span>
			                <span class="icon-bar"></span>
			                <span class="icon-bar"></span>
			                <span class="icon-bar"></span>

            			</button>       
        			</div>

        		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
       			 	<ul class="nav navbar-nav navbar-left">
<!--        			 		<li><a href="#"> <img src="../images/logommt.jpg" style="width: 50px; height: 20px"></a></li>
 -->       			 			<li id="start"><a  href="#" data-toggle="collapse"> Start</a></li> 
       				 </ul>
       			 
            		<ul class="nav navbar-nav navbar-right">
                		<li><a href="/admin.html">Admin</a></li>
                		<li><a href="/help.html">Help</a></li>
                		<li><a href="#" id="showSearch">Search</a></li>
                		<li><a href="#" id="showParse">Parse</a></li>		
                		<li><a href="#" id="svgMan">SVG</a></li>
                		
                		
            		</ul>
        		</div>
    		</div>
		</nav>
	<!-- /top bar -->

<div id="page-wrapper">
<!-- side bar -->
	<div class = "first_column" style = "width: 25%; float: left; padding-top: 40px; visibility: hidden" id="first">
		<nav  id="pathtree" class="navbar-default navbar-side" role="navigation" >
			<div  class="sidebar-collapse" style="height: 700px">
            	
			</div>
		</nav> 
	</div>  
	
<!-- page content --> 
	<div class = "second_column" style = " width: 70%; float: right; padding-right: 2%; ">
		<div id="page-inner">
		<div class="row">
				<div id="breadcrumbs" class="col-md-8">
					<div class="panel panel-back noti-box">
						<span class="icon-box bg-color-red set-icon">
							<i class="fa fa-envelope-o"></i>
						</span>
					</div>
				</div>
			</div>
			
	<div class="row">		
		<div id="main" class="col-md-11">           
				<div class="panel panel-back noti-box">
	            	<span class="icon-box bg-color-green set-icon">
	                	<i class="fa fa-bars"></i>
	                </span>
	            </div>
		</div>
	</div>
	
		<div class="row" id="searchrow" style="visibility: hidden">
				<div id="search" class="col-md-8" >
					<div class="panel panel-back noti-box">
						<span class="icon-box bg-color-red set-icon">
							<i class="fa fa-envelope-o"></i>
								
									
										<table class="toggleTarget">
  											<tr><td colspan="2" class="layout">
    											 <div class="searchgroup">Enter 
    											 	<a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum">Java regular expressions</a> to filter based on the URI of a declaration<br/>
   														  <table>
        														<tr><td class="uriregexp">Namespace</td><td>
        															<input type="text" size="30" id="base"></input></div></td></tr>

     															<tr><td class="uriregexp">Theory</td><td>
     																<input type="text" size="30" id="module"></input></div></td></tr>
     																	
     															<tr><td class="uriregexp">Name</td><td>
     																<input type="text" size="30" id="name"></input></div></td></tr>
     													</table>
     											</div>
											     <div>Roles:
											        <span><input type="checkbox" id="constant"/>primitive</span>
											        <span><input type="checkbox" id="defined"/>defined</span>
											        <span><input type="checkbox" id="axiom"/>axiom</span>
											        <span><input type="checkbox" id="theorem"/>theorem</span>
											     </div>
											     <div class="searchgroup">
											       Enter an expression over theory <input type="text" size="50" id="theory" class="activetheory"></input> to match inside the <input type="checkbox" id="type" checked="checked"/> type or <input type="checkbox" id="definition"/> definiens of a declaration<br/>
											       <input type="text" size="50" id="pattern"></input><br/>
											       <p class="help-block">Use $x,y,z:query to enter unification variables.</p>
											        
											     </div>
     								<div style="margin-bottom: 30px; margin-right: 15px"><input class ="btn btn-primary btn-lg btn-block" type="button" value="Search" id="search" onclick="search()"/></div>
     								<div><button class="btn btn-default btn-xs" id="remove-search">Close</button></div>
    							 <div id="results"><div/></div>
 							 </td></tr></table
  
						</span>
					</div>
				</div>
			</div>
			<div class="row" id="parserow" style="visibility: hidden">
				<div id="parse" class="col-md-8"  >
					<table class="toggleTarget">
  						<tr>
   							 <td class="layout">
     							 <div id="inlineBox"></div>
     								 <div>
    								    <span>Enter an object over theory: </span>
       										 <input type="text" style="resize:horizontal;" size="30" class="activetheory" id="activetheory"></input>
    								 </div>
   							 </td>
   							 <td>
        						<span><input type="checkbox" id="inputanalyze"/>analyze</span>
      							<span><input type="checkbox" id="inputsimplify"/>simplify</span>
   							 </td>
 						 </tr>
 						 <tr>
  							 <td>
    							  <textarea id="inputbox"></textarea>
   							 </td>
    						 <td>
     							result: <span id="inputviewterm"><div></div></div><br/>
     							 inferred type:<span id="inputviewtype"><div></div></div>
   							 </td>
  					</tr>
				</table>
				<div><button class="btn btn-default" id="remove-parse">Close</button></div>
				
			</div>
			
		</div>
</div>
</div>


<div id="latin-dialog"></div>
</div>
<!-- <div id="footer">
      <div class="container">

      </div>
 </div> -->
</div>

</body>

</html>
